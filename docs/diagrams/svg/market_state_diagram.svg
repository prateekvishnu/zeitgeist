<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1751.0417px" preserveAspectRatio="none" style="width:983px;height:1751px;background:#00000000;" version="1.1" viewBox="0 0 983 1751" width="983.3333px" zoomAndPan="magnify"><defs><linearGradient id="g1uok8kyqun3cz0" x1="50%" x2="50%" y1="0%" y2="100%"><stop offset="0%" stop-color="#4DABF5"/><stop offset="100%" stop-color="#2196F3"/></linearGradient><filter height="300%" id="f1uok8kyqun3cz" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0833333333333335"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.166666666666667" dy="4.166666666666667" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter><linearGradient id="g1uok8kyqun3cz1" x1="50%" x2="50%" y1="0%" y2="100%"><stop offset="0%" stop-color="#B052C0"/><stop offset="100%" stop-color="#9C27B0"/></linearGradient><linearGradient id="g1uok8kyqun3cz2" x1="50%" x2="50%" y1="0%" y2="100%"><stop offset="0%" stop-color="#FFFFFF"/><stop offset="100%" stop-color="#FFFFFF"/></linearGradient></defs><g><g id="Active"><rect fill="url(#g1uok8kyqun3cz0)" filter="url(#f1uok8kyqun3cz)" height="89.1764" rx="4.1667" ry="4.1667" style="stroke:#1A78C2;stroke-width:1.0416666666666667;" width="168.75" x="414.5833" y="955.2083"/><line style="stroke:#1A78C2;stroke-width:1.0416666666666667;" x1="414.5833" x2="583.3333" y1="999.7965" y2="999.7965"/><text fill="#222222" font-family="&quot;Verdana&quot;" font-size="11.4583" lengthAdjust="spacing" textLength="37.5" x="480.2083" y="981.4692">Active</text><text fill="#222222" font-family="&quot;Verdana&quot;" font-size="11.4583" lengthAdjust="spacing" textLength="127.0833" x="430.2083" y="1026.0574">Market can be traded</text></g><g id="Closed"><rect fill="url(#g1uok8kyqun3cz0)" filter="url(#f1uok8kyqun3cz)" height="89.1764" rx="4.1667" ry="4.1667" style="stroke:#1A78C2;stroke-width:1.0416666666666667;" width="130.2083" x="318.2292" y="17.7083"/><line style="stroke:#1A78C2;stroke-width:1.0416666666666667;" x1="318.2292" x2="448.4375" y1="62.2965" y2="62.2965"/><text fill="#222222" font-family="&quot;Verdana&quot;" font-size="11.4583" lengthAdjust="spacing" textLength="40.625" x="363.0208" y="43.9692">Closed</text><text fill="#222222" font-family="&quot;Verdana&quot;" font-size="11.4583" lengthAdjust="spacing" textLength="88.5417" x="333.8542" y="88.5574">Trading is over</text></g><g id="elem_GMN1317137"><path d="M16.6667,29.1667 L16.6667,95.7357 A4.1667,4.1667 0 0 0 20.8333,99.9023 L277.0833,99.9023 A4.1667,4.1667 0 0 0 281.25,95.7357 L281.25,66.6667 L317.9375,62.5 L281.25,58.3333 L281.25,35.4167 L270.8333,25 L20.8333,25 A4.1667,4.1667 0 0 0 16.6667,29.1667 " fill="url(#g1uok8kyqun3cz1)" filter="url(#f1uok8kyqun3cz)" style="stroke:#1A78C2;stroke-width:1.0416666666666667;"/><path d="M270.8333,25 L270.8333,33.3333 A2.0833,2.0833 0 0 0 272.9167,35.4167 L281.25,35.4167 L270.8333,25 " fill="url(#g1uok8kyqun3cz1)" style="stroke:#1A78C2;stroke-width:1.0416666666666667;"/><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="215.625" x="33.3333" y="52.2278">Closed state is not used currently.</text><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="221.875" x="33.3333" y="66.7786">The code logic checks whether the</text><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="206.25" x="33.3333" y="81.3293">market period end was reached.</text></g><g id="CollectingSubsidy"><rect fill="url(#g1uok8kyqun3cz0)" filter="url(#f1uok8kyqun3cz)" height="89.1764" rx="4.1667" ry="4.1667" style="stroke:#1A78C2;stroke-width:1.0416666666666667;" width="218.75" x="611.4583" y="642.7083"/><line style="stroke:#1A78C2;stroke-width:1.0416666666666667;" x1="611.4583" x2="830.2083" y1="687.2965" y2="687.2965"/><text fill="#222222" font-family="&quot;Verdana&quot;" font-size="11.4583" lengthAdjust="spacing" textLength="105.2083" x="668.2292" y="668.9692">CollectingSubsidy</text><text fill="#222222" font-family="&quot;Verdana&quot;" font-size="11.4583" lengthAdjust="spacing" textLength="177.0833" x="627.0833" y="713.5574">Rikiddo market needs funding</text></g><g id="Disputed"><rect fill="url(#g1uok8kyqun3cz0)" filter="url(#f1uok8kyqun3cz)" height="89.1764" rx="4.1667" ry="4.1667" style="stroke:#1A78C2;stroke-width:1.0416666666666667;" width="206.25" x="235.4167" y="1456.25"/><line style="stroke:#1A78C2;stroke-width:1.0416666666666667;" x1="235.4167" x2="441.6667" y1="1500.8382" y2="1500.8382"/><text fill="#222222" font-family="&quot;Verdana&quot;" font-size="11.4583" lengthAdjust="spacing" textLength="53.125" x="311.9792" y="1482.5109">Disputed</text><text fill="#222222" font-family="&quot;Verdana&quot;" font-size="11.4583" lengthAdjust="spacing" textLength="164.5833" x="251.0417" y="1527.0991">Market outcome is disputed</text></g><g id="InsufficientSubsidy"><rect fill="url(#g1uok8kyqun3cz0)" filter="url(#f1uok8kyqun3cz)" height="89.1764" rx="4.1667" ry="4.1667" style="stroke:#1A78C2;stroke-width:1.0416666666666667;" width="311.4583" x="628.6458" y="955.2083"/><line style="stroke:#1A78C2;stroke-width:1.0416666666666667;" x1="628.6458" x2="940.1042" y1="999.7965" y2="999.7965"/><text fill="#222222" font-family="&quot;Verdana&quot;" font-size="11.4583" lengthAdjust="spacing" textLength="111.4583" x="728.6458" y="981.4692">InsufficientSubsidy</text><text fill="#222222" font-family="&quot;Verdana&quot;" font-size="11.4583" lengthAdjust="spacing" textLength="269.7917" x="644.2708" y="1026.0574">Market suspended due to insufficient subsidy</text></g><g id="Proposed"><rect fill="url(#g1uok8kyqun3cz0)" filter="url(#f1uok8kyqun3cz)" height="89.1764" rx="4.1667" ry="4.1667" style="stroke:#1A78C2;stroke-width:1.0416666666666667;" width="311.4583" x="194.2708" y="330.2083"/><line style="stroke:#1A78C2;stroke-width:1.0416666666666667;" x1="194.2708" x2="505.7292" y1="374.7965" y2="374.7965"/><text fill="#222222" font-family="&quot;Verdana&quot;" font-size="11.4583" lengthAdjust="spacing" textLength="54.1667" x="322.9167" y="356.4692">Proposed</text><text fill="#222222" font-family="&quot;Verdana&quot;" font-size="11.4583" lengthAdjust="spacing" textLength="269.7917" x="209.8958" y="401.0574">Market has to be approved by ApprovalOrigin</text></g><g id="Reported"><rect fill="url(#g1uok8kyqun3cz0)" filter="url(#f1uok8kyqun3cz)" height="89.1764" rx="4.1667" ry="4.1667" style="stroke:#1A78C2;stroke-width:1.0416666666666667;" width="206.25" x="395.8333" y="1267.7083"/><line style="stroke:#1A78C2;stroke-width:1.0416666666666667;" x1="395.8333" x2="602.0833" y1="1312.2965" y2="1312.2965"/><text fill="#222222" font-family="&quot;Verdana&quot;" font-size="11.4583" lengthAdjust="spacing" textLength="54.1667" x="471.875" y="1293.9692">Reported</text><text fill="#222222" font-family="&quot;Verdana&quot;" font-size="11.4583" lengthAdjust="spacing" textLength="164.5833" x="411.4583" y="1338.5574">Market outcome is reported</text></g><g id="Resolved"><rect fill="url(#g1uok8kyqun3cz0)" filter="url(#f1uok8kyqun3cz)" height="89.1764" rx="4.1667" ry="4.1667" style="stroke:#1A78C2;stroke-width:1.0416666666666667;" width="137.5" x="412.5" y="1644.7917"/><line style="stroke:#1A78C2;stroke-width:1.0416666666666667;" x1="412.5" x2="550" y1="1689.3799" y2="1689.3799"/><text fill="#222222" font-family="&quot;Verdana&quot;" font-size="11.4583" lengthAdjust="spacing" textLength="55.2083" x="453.6458" y="1671.0526">Resolved</text><text fill="#222222" font-family="&quot;Verdana&quot;" font-size="11.4583" lengthAdjust="spacing" textLength="95.8333" x="428.125" y="1715.6408">Market resolved</text></g><g id="Suspended"><rect fill="url(#g1uok8kyqun3cz0)" filter="url(#f1uok8kyqun3cz)" height="89.1764" rx="4.1667" ry="4.1667" style="stroke:#1A78C2;stroke-width:1.0416666666666667;" width="218.75" x="542.7083" y="17.7083"/><line style="stroke:#1A78C2;stroke-width:1.0416666666666667;" x1="542.7083" x2="761.4583" y1="62.2965" y2="62.2965"/><text fill="#222222" font-family="&quot;Verdana&quot;" font-size="11.4583" lengthAdjust="spacing" textLength="67.7083" x="618.2292" y="43.9692">Suspended</text><text fill="#222222" font-family="&quot;Verdana&quot;" font-size="11.4583" lengthAdjust="spacing" textLength="177.0833" x="558.3333" y="88.5574">Trading is temporarily paused</text></g><g id="elem_GMN1317147"><path d="M798.4375,43.75 L798.4375,58.3333 L761.7677,62.5 L798.4375,66.6667 L798.4375,81.2174 A4.1667,4.1667 0 0 0 802.6042,85.3841 L884.8958,85.3841 A4.1667,4.1667 0 0 0 889.0625,81.2174 L889.0625,50 L878.6458,39.5833 L802.6042,39.5833 A4.1667,4.1667 0 0 0 798.4375,43.75 " fill="url(#g1uok8kyqun3cz1)" filter="url(#f1uok8kyqun3cz)" style="stroke:#1A78C2;stroke-width:1.0416666666666667;"/><path d="M878.6458,39.5833 L878.6458,47.9167 A2.0833,2.0833 0 0 0 880.7292,50 L889.0625,50 L878.6458,39.5833 " fill="url(#g1uok8kyqun3cz1)" style="stroke:#1A78C2;stroke-width:1.0416666666666667;"/><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="47.9167" x="815.1042" y="66.8111">Unused</text></g><ellipse cx="495.8333" cy="62.5" fill="#1A78C2" filter="url(#f1uok8kyqun3cz)" rx="10.4167" ry="10.4167" style="stroke:none;stroke-width:1.0416666666666667;"/><g id="elem_cpmm_or_rikiddo"><polygon fill="url(#g1uok8kyqun3cz2)" filter="url(#f1uok8kyqun3cz)" points="519.7917,518.75,532.2917,531.25,519.7917,543.75,507.2917,531.25,519.7917,518.75" style="stroke:#CCCCCC;stroke-width:1.0416666666666667;"/></g><g id="elem_advised_or_proposed_cpmm"><polygon fill="url(#g1uok8kyqun3cz2)" filter="url(#f1uok8kyqun3cz)" points="495.8333,206.25,508.3333,218.75,495.8333,231.25,483.3333,218.75,495.8333,206.25" style="stroke:#CCCCCC;stroke-width:1.0416666666666667;"/></g><g id="elem_enough_subsidy"><polygon fill="url(#g1uok8kyqun3cz2)" filter="url(#f1uok8kyqun3cz)" points="784.375,831.25,796.875,843.75,784.375,856.25,771.875,843.75,784.375,831.25" style="stroke:#CCCCCC;stroke-width:1.0416666666666667;"/></g><g id="elem_is_period_over"><polygon fill="url(#g1uok8kyqun3cz2)" filter="url(#f1uok8kyqun3cz)" points="498.9583,1143.75,511.4583,1156.25,498.9583,1168.75,486.4583,1156.25,498.9583,1143.75" style="stroke:#CCCCCC;stroke-width:1.0416666666666667;"/></g><ellipse cx="144.7917" cy="531.25" fill="none" filter="url(#f1uok8kyqun3cz)" rx="10.4167" ry="10.4167" style="stroke:#9C27B0;stroke-width:1.0416666666666667;"/><ellipse cx="145.3125" cy="531.7708" fill="#9C27B0" rx="6.25" ry="6.25" style="stroke:none;stroke-width:1.0416666666666667;"/><!--MD5=[ff42b11ba199b58736ba920ec1fe59ac]
link *start to Suspended--><!--MD5=[18d8861ef9d73ddcf158f3d4f0d05d8f]
link *start to advised_or_proposed_cpmm--><g id="link_*start_advised_or_proposed_cpmm"><path d="M495.8333,73.1875 C495.8333,98.7396 495.8333,168.4167 495.8333,200.7813 " fill="none" id="*start-to-advised_or_proposed_cpmm" style="stroke:#2196F3;stroke-width:3.125;"/><polygon fill="#2196F3" points="495.8333,206,500,196.625,495.8333,200.7917,491.6667,196.625,495.8333,206" style="stroke:#2196F3;stroke-width:3.125;"/><text fill="#222222" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="88.5417" x="507.2917" y="161.6028">create market</text></g><!--MD5=[a8b64327f115805955555e24179f7d12]
link advised_or_proposed_cpmm to cpmm_or_rikiddo--><g id="link_advised_or_proposed_cpmm_cpmm_or_rikiddo"><path d="M507.526,219.75 C532.8729,220.375 592.6948,225.8646 618.75,262.5 C676.7063,343.9896 673.6927,403.9479 618.75,487.5 C600.2688,515.6042 558.9469,525.3021 535.975,528.5833 " fill="none" id="advised_or_proposed_cpmm-to-cpmm_or_rikiddo" style="stroke:#2196F3;stroke-width:3.125;"/><polygon fill="#2196F3" points="530.5552,529.2812,540.389,532.2048,535.7201,528.61,539.315,523.941,530.5552,529.2812" style="stroke:#2196F3;stroke-width:3.125;"/><text fill="#222222" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="287.5" x="671.875" y="379.8319">[creation == MarketCreation::Permissionless]</text></g><!--MD5=[52441d3fc32d9155e17f1b1c8eaa0165]
link advised_or_proposed_cpmm to Proposed--><g id="link_advised_or_proposed_cpmm_Proposed"><path d="M485.6656,221.125 C454.9292,225.3854 364.0375,239.7292 346.875,262.5 C333.7188,279.9583 332.7781,303.7083 335.8354,324.7917 " fill="none" id="advised_or_proposed_cpmm-to-Proposed" style="stroke:#2196F3;stroke-width:3.125;"/><polygon fill="#2196F3" points="336.6938,330.0938,339.3068,320.1729,335.8604,324.9525,331.0808,321.5062,336.6938,330.0938" style="stroke:#2196F3;stroke-width:3.125;"/><text fill="#222222" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="244.7917" x="358.3333" y="285.5611">[creation == MarketCreation::Advised]</text></g><!--MD5=[72068cf5e222d2e92667e6718a188aec]
link cpmm_or_rikiddo to Active--><g id="link_cpmm_or_rikiddo_Active"><path d="M517.8958,541.9271 C511.7885,573.5417 492.6667,676.9583 486.4583,763.5417 C485.299,779.7042 485.95,783.8042 486.4583,800 C488.0635,851.149 491.9844,909.5854 495.0104,949.8271 " fill="none" id="cpmm_or_rikiddo-to-Active" style="stroke:#2196F3;stroke-width:3.125;"/><polygon fill="#2196F3" points="495.4125,955.1354,498.8574,945.4719,495.0182,949.942,490.548,946.1028,495.4125,955.1354" style="stroke:#2196F3;stroke-width:3.125;"/><text fill="#222222" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="234.375" x="497.9167" y="786.6028">[scoring_rule == ScoringRule::CPMM]</text></g><!--MD5=[f86576a474c9d56903b0b50e5f0994f0]
link cpmm_or_rikiddo to CollectingSubsidy--><g id="link_cpmm_or_rikiddo_CollectingSubsidy"><path d="M526.4802,537.4167 C546.9167,553.0938 610.1104,601.5521 658.951,639 " fill="none" id="cpmm_or_rikiddo-to-CollectingSubsidy" style="stroke:#2196F3;stroke-width:3.125;"/><polygon fill="#2196F3" points="663.3323,642.3646,658.4246,633.3553,659.198,639.1969,653.3564,639.9702,663.3323,642.3646" style="stroke:#2196F3;stroke-width:3.125;"/><text fill="#222222" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="244.7917" x="631.25" y="598.0611">[scoring_rule == ScoringRule::Rikiddo]</text></g><!--MD5=[d1358368f14ec8335cbb118ed06032ee]
link Proposed to cpmm_or_rikiddo--><g id="link_Proposed_cpmm_or_rikiddo"><path d="M358.8573,419.9062 C365.526,442.7708 376.8844,469.625 395.8333,487.5 C426.4667,516.3958 477.5635,525.8333 503.5479,528.8438 " fill="none" id="Proposed-to-cpmm_or_rikiddo" style="stroke:#2196F3;stroke-width:3.125;"/><polygon fill="#2196F3" points="508.9927,529.4271,500.1108,524.2926,503.8136,528.8764,499.2297,532.5792,508.9927,529.4271" style="stroke:#2196F3;stroke-width:3.125;"/><text fill="#222222" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="195.8333" x="407.2917" y="474.1028">ApprovalOrigin accepts market</text></g><!--MD5=[5160b5791cfe4c27fe789cf1c1697092]
link Proposed to *end--><g id="link_Proposed_*end"><path d="M193.7917,413.2396 C176.8677,423.0417 161.6083,435.4167 150,451.0417 C136.1271,469.7188 138.2938,498.2083 141.3729,515.4375 " fill="none" id="Proposed-to-*end" style="stroke:#2196F3;stroke-width:3.125;"/><polygon fill="#2196F3" points="142.4302,520.8229,144.6964,510.8171,141.4185,515.7138,136.5218,512.4359,142.4302,520.8229" style="stroke:#2196F3;stroke-width:3.125;"/><text fill="#222222" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="189.5833" x="161.4583" y="474.1028">ApprovalOrigin rejects market</text></g><!--MD5=[d9af3b419773b2a564027e69a5e814a0]
link CollectingSubsidy to enough_subsidy--><g id="link_CollectingSubsidy_enough_subsidy"><path d="M738.8719,732.3073 C752.4688,765.2979 770.2219,808.3698 778.9906,829.6458 " fill="none" id="CollectingSubsidy-to-enough_subsidy" style="stroke:#2196F3;stroke-width:3.125;"/><polygon fill="#2196F3" points="781.0188,834.5656,781.3006,824.3103,779.035,829.7499,773.5954,827.4843,781.0188,834.5656" style="stroke:#2196F3;stroke-width:3.125;"/><text fill="#222222" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="177.0833" x="776.0417" y="786.6028">market trading period starts</text></g><!--MD5=[00ac8c90561e5880148ea3556475a294]
link enough_subsidy to Active--><g id="link_enough_subsidy_Active"><path d="M772.7021,844.8979 C741.3917,845.6844 653.8479,851.2115 593.75,887.5 C567.9615,903.0719 545.7229,928.1354 529.2802,950.5552 " fill="none" id="enough_subsidy-to-Active" style="stroke:#2196F3;stroke-width:3.125;"/><polygon fill="#2196F3" points="526.0698,955.001,534.9367,949.8406,529.1193,950.7788,528.1811,944.9614,526.0698,955.001" style="stroke:#2196F3;stroke-width:3.125;"/><text fill="#222222" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="159.375" x="605.2083" y="910.5611">[subsidy =&gt; MinSubsidy]</text></g><!--MD5=[b28e49d736ff51ef4520c1dd3977963e]
link enough_subsidy to InsufficientSubsidy--><g id="link_enough_subsidy_InsufficientSubsidy"><path d="M784.375,856.3792 C784.375,875.9875 784.375,916.7958 784.375,949.749 " fill="none" id="enough_subsidy-to-InsufficientSubsidy" style="stroke:#2196F3;stroke-width:3.125;"/><polygon fill="#2196F3" points="784.375,954.9656,788.5417,945.5906,784.375,949.7573,780.2083,945.5906,784.375,954.9656" style="stroke:#2196F3;stroke-width:3.125;"/><text fill="#222222" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="148.9583" x="795.8333" y="910.5611">[subsidy &lt; MinSubsidy]</text></g><!--MD5=[157eb10dd1e90eafb1a7fdb1a1266fb0]
link Active to is_period_over--><g id="link_Active_is_period_over"><path d="M459.7448,1044.8479 C453.1729,1054.5094 447.3313,1065.1354 443.75,1076.0417 C438.6948,1091.4365 436.6115,1097.9531 443.75,1112.5 C452.4219,1130.1708 472.3167,1142.6125 485.7,1149.3448 " fill="none" id="Active-to-is_period_over" style="stroke:#2196F3;stroke-width:3.125;"/><polygon fill="#2196F3" points="490.6448,1151.724,484.0043,1143.9038,485.9517,1149.4652,480.3903,1151.4127,490.6448,1151.724" style="stroke:#2196F3;stroke-width:3.125;"/><text fill="#222222" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="39.5833" x="455.2083" y="1099.1028">report</text></g><!--MD5=[16d90bc87e0f568cca4d55da808b83d1]
link is_period_over to Active--><g id="link_is_period_over_Active"><path d="M502.0135,1146.5104 C504.8385,1137.975 508.8313,1124.525 510.4167,1112.5 C513.0885,1092.2271 511.6344,1069.8115 508.9927,1050.4292 " fill="none" id="is_period_over-to-Active" style="stroke:#2196F3;stroke-width:3.125;"/><polygon fill="#2196F3" points="508.2177,1045.0479,505.4299,1054.9211,508.9601,1050.2031,513.6782,1053.7333,508.2177,1045.0479" style="stroke:#2196F3;stroke-width:3.125;"/><text fill="#222222" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="307.2917" x="522.9167" y="1099.1028">[blocknumber/timestamp &lt;= market.period.end]</text></g><!--MD5=[c135bc1215ae3d8ac99c442907a4d89c]
link is_period_over to Reported--><g id="link_is_period_over_Reported"><path d="M498.9583,1168.8792 C498.9583,1188.4875 498.9583,1229.2958 498.9583,1262.249 " fill="none" id="is_period_over-to-Reported" style="stroke:#2196F3;stroke-width:3.125;"/><polygon fill="#2196F3" points="498.9583,1267.4656,503.125,1258.0906,498.9583,1262.2573,494.7917,1258.0906,498.9583,1267.4656" style="stroke:#2196F3;stroke-width:3.125;"/><text fill="#222222" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="296.875" x="510.4167" y="1223.0611">[blocknumber/timestamp &gt; market.period.end]</text></g><!--MD5=[014c23bfd69a9e46379179b2d9f143a4]
link Reported to Disputed--><g id="link_Reported_Disputed"><path d="M395.8073,1350.3062 C379.3167,1360.3667 364.099,1372.9385 353.125,1388.5417 C340.55,1406.4208 336.1875,1429.9917 335.2573,1450.851 " fill="none" id="Reported-to-Disputed" style="stroke:#2196F3;stroke-width:3.125;"/><polygon fill="#2196F3" points="335.0927,1456.0906,339.5519,1446.8512,335.2564,1450.8849,331.2227,1446.5893,335.0927,1456.0906" style="stroke:#2196F3;stroke-width:3.125;"/><text fill="#222222" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="227.0833" x="364.5833" y="1411.6028">dispute started within DisputePeriod</text></g><!--MD5=[cd0d785d00fb30cfb7b9f32466ea54f1]
link Reported to Resolved--><g id="link_Reported_Resolved"><path d="M581.8167,1357.4167 C592.0521,1366.3354 601.0813,1376.6885 607.2917,1388.5417 C653.7021,1477.1198 656.7208,1526.6115 607.2917,1613.5417 C595.5323,1634.2233 575.5667,1649.7989 554.9521,1661.2406 " fill="none" id="Reported-to-Resolved" style="stroke:#2196F3;stroke-width:3.125;"/><polygon fill="#2196F3" points="550.2667,1663.7661,560.4961,1662.9848,554.8512,1661.2945,556.5415,1655.6496,550.2667,1663.7661" style="stroke:#2196F3;stroke-width:3.125;"/><text fill="#222222" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="247.9167" x="654.1667" y="1505.8736">No dispute started within DisputePeriod</text></g><!--MD5=[b052f21181e20ee087efaf73dcf65008]
link Disputed to Resolved--><g id="link_Disputed_Resolved"><path d="M323.0573,1546.0042 C318.1635,1567.8115 316.8104,1593.6708 329.1667,1613.5417 C346.5073,1641.4284 377.6115,1659.2526 407.1917,1670.4886 " fill="none" id="Disputed-to-Resolved" style="stroke:#2196F3;stroke-width:3.125;"/><polygon fill="#2196F3" points="412.3073,1672.3732,404.9508,1665.2225,407.4201,1670.5727,402.0699,1673.042,412.3073,1672.3732" style="stroke:#2196F3;stroke-width:3.125;"/><text fill="#222222" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="251.0417" x="340.625" y="1600.1444">DisputePeriod passed after first dispute</text></g><!--MD5=[b59872226e5919eea3fdc8ffa1ec2a53]
@startuml
!theme materia

'States
state Active : Market can be traded
state Closed : Trading is over
note left of Closed
  Closed state is not used currently.
  The code logic checks whether the
  market period end was reached.
end note
state CollectingSubsidy : Rikiddo market needs funding
state Disputed: Market outcome is disputed
state InsufficientSubsidy : Market suspended due to insufficient subsidy
state Proposed : Market has to be approved by ApprovalOrigin
state Reported : Market outcome is reported
state Resolved : Market resolved
state Suspended : Trading is temporarily paused
note right of Suspended
  Unused
end note

[*] -[hidden]> Suspended

'Choices
state cpmm_or_rikiddo <<choice>>
state advised_or_proposed_cpmm <<choice>>
state enough_subsidy <<choice>>
state is_period_over <<choice>>

'Create market
[*] - -> advised_or_proposed_cpmm : create market
advised_or_proposed_cpmm - -> cpmm_or_rikiddo : [creation == MarketCreation::Permissionless]
advised_or_proposed_cpmm - -> Proposed : [creation == MarketCreation::Advised]

cpmm_or_rikiddo - -> Active : [scoring_rule == ScoringRule::CPMM]
cpmm_or_rikiddo - -> CollectingSubsidy : [scoring_rule == ScoringRule::Rikiddo]

'Delete or activate a market
Proposed - -> cpmm_or_rikiddo : ApprovalOrigin accepts market
Proposed - -> [*] : ApprovalOrigin rejects market

CollectingSubsidy - -> enough_subsidy : market trading period starts
enough_subsidy - -> Active : [subsidy => MinSubsidy]
enough_subsidy - -> InsufficientSubsidy : [subsidy < MinSubsidy]

'Report market
Active - -> is_period_over : report
is_period_over - -> Reported : [blocknumber/timestamp > market.period.end]
is_period_over - -> Active : [blocknumber/timestamp <= market.period.end]

'Dispute or resolve directly
Reported - -> Disputed : dispute started within DisputePeriod
Reported - -> Resolved : No dispute started within DisputePeriod

'Disputed market resolves
Disputed - -> Resolved : DisputePeriod passed after first dispute
@enduml

@startuml



skinparam backgroundColor transparent
skinparam useBetaStyle false






<style>
  root {
    BackgroundColor transparent
    FontColor #FFF
    HyperLinkColor #fd7e14
    LineColor #1a78c2
    LineThickness 1
    Margin 10
    Padding 6
    Shadowing 0.0
  }
  node {
   Padding 15
   roundcorner 20
   BackgroundColor #2196F3-#1a78c2
  }
  caption {
    LineThickness 0
  }
  footer {
    LineThickness 0
  }
  groupHeader {
    BackgroundColor #fff
    FontColor #9C27B0
    FontStyle bold
  }
  header {
    LineThickness 0
  }
  referenceHeader {
    BackgroundColor transparent
    FontColor #222
    FontStyle bold
  }
  separator {
    BackgroundColor #222
    FontColor transparent
    FontStyle bold
  }
  title {
	FontSize 20
	BorderRoundCorner            8
	BorderThickness 	         1
	BackgroundColor  #fff-#fff
	FontColor #2196F3
	BorderColor #fff
  }
  nwdiagDiagram {
	network {
			FontColor #FFF
	BorderColor #2196F3
	BackgroundColor #4dabf5-#2196F3    
		LineColor #2196F3
		LineThickness 1.0
		FontColor #1a78c2
	}
	server {
			FontColor #FFF
	BorderColor #2196F3
	BackgroundColor #4dabf5-#2196F3
	}
	arrow {
		FontColor #1a78c2
		LineColor #1a78c2
	}
	group {
		BackGroundColor #fff
		LineColor $LIGHT_DARK
		LineThickness 2.0
		Margin 5
		Padding 5
	}
  }
  ganttDiagram {
	task {
			FontColor #FFF
	BorderColor #2196F3
	BackgroundColor #4dabf5-#2196F3
		LineColor #2196F3
		Margin 10
		Padding 6
	}
	note {
		FontColor #FFF
		LineColor #7D1F8D
		BackGroundColor #9C27B0
	}
	separator {
		LineColor #fff
		BackGroundColor #fff-#cccccc
		FontColor #222
	}
	milestone {
		FontColor #9C27B0
		FontSize 16
		FontStyle italic
		BackGroundColor #fff
		LineColor #cccccc
	}
	timeline {
		BackgroundColor #fff
		FontColor #222
	}
	closed {
		BackgroundColor #CC7A00
		FontColor #FFF
	}
  }
</style>
skinparam defaultFontName       "Verdana"
skinparam defaultFontSize       12
skinparam dpi                   100
skinparam shadowing             true
skinparam roundcorner           8
skinparam ParticipantPadding    40
skinparam BoxPadding            40
skinparam Padding               10
skinparam ArrowColor            #666
skinparam stereotype {
    CBackgroundColor #fff
    CBorderColor #cccccc
    ABackgroundColor #70bf73
    ABorderColor #3D8C40
    IBackgroundColor #B7161C
    IBorderColor #b7161c
    EBackgroundColor #ffad33
    EBorderColor #CC7A00
    NBackgroundColor #b052c0
    NBorderColor #7D1F8D
}
skinparam title {
	FontColor	                 #2196F3
	BorderColor	                 #cccccc
	FontSize	    	         20
	BorderRoundCorner            8
	BorderThickness 	         1
	BackgroundColor              #fff-#fff
}

skinparam legend {
	BackgroundColor #fff
	BorderColor #cccccc
	FontColor #222
}

skinparam swimlane {
	BorderColor #9C27B0
	BorderThickness 2
	TitleBackgroundColor  #fff-#fff
	TitleFontColor #2196F3
}


skinparam activity {
		FontColor #FFF
	BorderColor #2196F3
	BackgroundColor #4dabf5-#2196F3
	BarColor #4CAF50
	StartColor #9C27B0
	EndColor #9C27B0
	DiamondBackgroundColor #FFF-#fff
  	DiamondBorderColor #cccccc
	DiamondFontColor #222
}


skinparam participant {
		FontColor #FFF
	BorderColor #2196F3
	BackgroundColor #4dabf5-#2196F3
	ParticipantBorderThickness 2
}


skinparam actor {
		FontColor #FFF
	BorderColor #2196F3
	BackgroundColor #4dabf5-#2196F3
	FontColor #222
}


skinparam arrow {
	Thickness 3
	Color #2196F3
	FontColor #222
}


skinparam sequence {
	BorderColor #2196F3
	TitleFontColor #2196F3
	BackgroundColor transparent
	StartColor #2196F3
	EndColor #2196F3
	BoxBackgroundColor #fff
	BoxBorderColor #666
	BoxFontColor #222
	DelayFontColor #222
	LifeLineBorderColor #cccccc
	LifeLineBorderThickness 2
	LifeLineBackgroundColor #fff
	GroupBorderColor #666
	GroupFontColor #222
	GroupHeaderFontColor #9C27B0
	DividerBackgroundColor #FFF-#fff
    DividerBorderColor #666
    DividerBorderThickness 2
    DividerFontColor #222
	ReferenceBackgroundColor transparent
	ReferenceBorderColor #666
	ReferenceFontColor #222
	ReferenceHeaderFontColor #9C27B0
	StereotypeFontColor #FFF
}


skinparam partition {
	BorderColor #2196F3
	FontColor #2196F3
	BackgroundColor transparent
}


skinparam collections {
		FontColor #FFF
	BorderColor #2196F3
	BackgroundColor #4dabf5-#2196F3
}


skinparam control {
		FontColor #FFF
	BorderColor #2196F3
	BackgroundColor #4dabf5-#2196F3
	FontColor #222
}


skinparam entity {
		FontColor #FFF
	BorderColor #2196F3
	BackgroundColor #4dabf5-#2196F3
	FontColor #222
}


skinparam boundary {
		FontColor #FFF
	BorderColor #2196F3
	BackgroundColor #4dabf5-#2196F3
	FontColor #222
}


skinparam agent {
	BackgroundColor #orange
	BorderColor #999999
	FontColor #333333
}


skinparam note {
	BorderThickness 1
	BackgroundColor #b052c0-#9C27B0
	BorderColor #9C27B0
	FontColor #FFF
}


skinparam artifact {
	BackgroundColor #FFF-#fff
	BorderColor #666
	FontColor #666
}


skinparam component {
		FontColor #FFF
	BorderColor #2196F3
	BackgroundColor #4dabf5-#2196F3
}


skinparam interface {
	BackgroundColor  #B7161C
	BorderColor  #e51c23
	FontColor #222
}


skinparam storage {
	BackgroundColor #ffad33-#ff9800
  	BorderColor #ff9800
	FontColor #FFF
}


skinparam node {
	BackgroundColor #fff-#fff
	BorderColor #222
	FontColor #222
}


skinparam cloud {
	BackgroundColor #F2FCFE-#eeeeee
	BorderColor #F2FCFE
	FontColor #222
}


skinparam database {
		FontColor #FFF
	BorderColor #2196F3
	BackgroundColor #4dabf5-#2196F3
	FontColor #222
}


skinparam class {
		FontColor #FFF
	BorderColor #2196F3
	BackgroundColor #4dabf5-#2196F3
	HeaderBackgroundColor #2196F3-#1a78c2
	StereotypeFontColor #222
	BorderThickness 1
	AttributeFontColor #fff
	AttributeFontSize 11
}


skinparam object {
		FontColor #FFF
	BorderColor #2196F3
	BackgroundColor #4dabf5-#2196F3
	StereotypeFontColor #222
	BorderThickness 1
	AttributeFontColor #222
	AttributeFontSize 11
}


skinparam usecase {
		FontColor #FFF
	BorderColor #2196F3
	BackgroundColor #4dabf5-#2196F3
	BorderThickness 2
	StereotypeFontColor #2196F3
}


skinparam rectangle {
	FontColor #2196F3
	BackgroundColor #fff-#fff
	BorderThickness 2
	StereotypeFontColor #2196F3
}


skinparam package {
		FontColor #FFF
	BorderColor #2196F3
	BackgroundColor #4dabf5-#2196F3
	BackgroundColor #fff-#fff
	BorderThickness 2
}


skinparam folder {
	BackgroundColor #FFF-#fff
  	BorderColor #ff9800
	FontColor #ff9800
	BorderThickness 2
}


skinparam frame {
	BackgroundColor #FFF-#fff
  	BorderColor #9C27B0
	FontColor #9C27B0
	BorderThickness 2
}


skinparam state {
		FontColor #FFF
	BorderColor #2196F3
	BackgroundColor #4dabf5-#2196F3
	BorderColor #1a78c2
	StartColor #9C27B0
	EndColor #9C27B0
	AttributeFontColor #222
	AttributeFontSize 11
}


skinparam queue {
		FontColor #FFF
	BorderColor #2196F3
	BackgroundColor #4dabf5-#2196F3
}


skinparam card {
	BackgroundColor #b052c0-#9C27B0
	BorderColor #9C27B0
	FontColor #FFF
}


skinparam file {
	BackgroundColor #fff-#fff
	BorderColor #666
	FontColor #666

}


skinparam stack {
		FontColor #FFF
	BorderColor #2196F3
	BackgroundColor #4dabf5-#2196F3
}

state Active : Market can be traded
state Closed : Trading is over
note left of Closed
  Closed state is not used currently.
  The code logic checks whether the
  market period end was reached.
end note
state CollectingSubsidy : Rikiddo market needs funding
state Disputed: Market outcome is disputed
state InsufficientSubsidy : Market suspended due to insufficient subsidy
state Proposed : Market has to be approved by ApprovalOrigin
state Reported : Market outcome is reported
state Resolved : Market resolved
state Suspended : Trading is temporarily paused
note right of Suspended
  Unused
end note

[*] -[hidden]> Suspended

state cpmm_or_rikiddo <<choice>>
state advised_or_proposed_cpmm <<choice>>
state enough_subsidy <<choice>>
state is_period_over <<choice>>

[*] - -> advised_or_proposed_cpmm : create market
advised_or_proposed_cpmm - -> cpmm_or_rikiddo : [creation == MarketCreation::Permissionless]
advised_or_proposed_cpmm - -> Proposed : [creation == MarketCreation::Advised]

cpmm_or_rikiddo - -> Active : [scoring_rule == ScoringRule::CPMM]
cpmm_or_rikiddo - -> CollectingSubsidy : [scoring_rule == ScoringRule::Rikiddo]

Proposed - -> cpmm_or_rikiddo : ApprovalOrigin accepts market
Proposed - -> [*] : ApprovalOrigin rejects market

CollectingSubsidy - -> enough_subsidy : market trading period starts
enough_subsidy - -> Active : [subsidy => MinSubsidy]
enough_subsidy - -> InsufficientSubsidy : [subsidy < MinSubsidy]

Active - -> is_period_over : report
is_period_over - -> Reported : [blocknumber/timestamp > market.period.end]
is_period_over - -> Active : [blocknumber/timestamp <= market.period.end]

Reported - -> Disputed : dispute started within DisputePeriod
Reported - -> Resolved : No dispute started within DisputePeriod

Disputed - -> Resolved : DisputePeriod passed after first dispute
@enduml

PlantUML version 1.2022.4beta2(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>